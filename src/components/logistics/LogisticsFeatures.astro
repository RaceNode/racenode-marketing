---
const features = [
  {
    id: "overview",
    badge: "Overview",
    title: "See what's missing before it's a problem.",
    description: "A real-time dashboard showing preparation status for each event. Instantly see how many staff members still need a departure flight, a return flight, or a hotel room. Track completion percentages for travel and accommodation, and get alerts for anything unresolved — before you leave for the circuit.",
    icon: "layout-dashboard"
  },
  {
    id: "staff",
    badge: "Event Staff",
    title: "Your full crew, their complete logistics — one view.",
    description: "See every staff member assigned to the event alongside their travel and accommodation status. Each row shows departure, hotel assignment, and return at a glance. Alert icons flag anyone missing a booking, so nothing slips through.",
    icon: "users"
  },
  {
    id: "accommodation",
    badge: "Accommodation",
    title: "Hotels, rooms, and rooming lists — handled.",
    description: "Add hotels with address auto-complete, then assign staff to rooms in a few clicks. Manage rooming lists per hotel, track room types and capacity, set check-in and check-out details. Attach booking confirmations so your team can download them directly.",
    icon: "building"
  },
  {
    id: "travel",
    badge: "Travel",
    title: "Every journey planned, every seat assigned.",
    description: "Create departure and return trips for any travel type — flights, cars, trucks, or mixed. Break complex journeys into segments and assign staff to each leg. Attach tickets and documents so every team member has what they need in their pocket.",
    icon: "plane"
  },
  {
    id: "vehicles",
    badge: "Event Vehicles",
    title: "Fleet vehicles and rentals, ready for the road.",
    description: "Pull vehicles from your permanent fleet or create event-specific entries for rentals and loaners. All vehicles are available in the Travel section for assignment, giving you a complete view of how your team gets to the circuit.",
    icon: "truck"
  }
];

const icons: Record<string, string> = {
  "layout-dashboard": `<rect width="7" height="9" x="3" y="3" rx="1"/><rect width="7" height="5" x="14" y="3" rx="1"/><rect width="7" height="9" x="14" y="12" rx="1"/><rect width="7" height="5" x="3" y="16" rx="1"/>`,
  "users": `<path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/>`,
  "building": `<path d="M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z"/><path d="M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2"/><path d="M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2"/><path d="M10 6h4"/><path d="M10 10h4"/><path d="M10 14h4"/><path d="M10 18h4"/>`,
  "plane": `<path d="M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"/>`,
  "truck": `<path d="M10 17h4V5H2v12h3"/><path d="M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5v8h1"/><circle cx="7.5" cy="17.5" r="2.5"/><circle cx="17.5" cy="17.5" r="2.5"/>`
};

// Wireframe content for each feature
const wireframes: Record<string, { stats?: { label: string; value: string }[]; rows?: { name: string; status: string; statusColor: string }[]; type: string }> = {
  overview: {
    type: "dashboard",
    stats: [
      { label: "Departure Flights", value: "21/24" },
      { label: "Return Flights", value: "18/24" },
      { label: "Hotel Rooms", value: "22/24" },
      { label: "Completion", value: "85%" }
    ]
  },
  staff: {
    type: "table",
    rows: [
      { name: "M. Rossi", status: "Complete", statusColor: "green" },
      { name: "J. Smith", status: "Missing return", statusColor: "yellow" },
      { name: "P. Weber", status: "Complete", statusColor: "green" },
      { name: "L. Martin", status: "Missing hotel", statusColor: "yellow" }
    ]
  },
  accommodation: {
    type: "cards"
  },
  travel: {
    type: "timeline"
  },
  vehicles: {
    type: "list"
  }
};
---

<section class="px-4 sm:px-6 lg:px-8 py-20 md:py-24">
  <div class="max-w-7xl mx-auto">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">
        Five tools, one workspace.
      </h2>
    </div>

    <div class="space-y-20 md:space-y-28">
      {features.map((feature, index) => (
        <div class={`flex flex-col ${index % 2 === 0 ? 'lg:flex-row' : 'lg:flex-row-reverse'} gap-8 lg:gap-12 items-center`}>
          <!-- Content -->
          <div class="lg:w-1/2">
            <div class="inline-flex items-center gap-2 px-3 py-1 bg-purple-900/20 text-purple-400 rounded-full text-sm font-medium mb-4 border border-purple-500/30">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="w-4 h-4"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                set:html={icons[feature.icon]}
              />
              {feature.badge}
            </div>
            <h3 class="text-2xl md:text-3xl font-bold text-white mb-4">
              {feature.title}
            </h3>
            <p class="text-gray-400 text-lg leading-relaxed">
              {feature.description}
            </p>
          </div>

          <!-- Screenshot placeholder -->
          <div class="lg:w-1/2">
            <div
              data-screenshot={`logistics-${feature.id}`}
              class="bg-gray-800/50 border border-gray-700 rounded-xl overflow-hidden"
            >
              {wireframes[feature.id]?.type === "dashboard" && (
                <div class="p-6" style="aspect-ratio: 4/3;">
                  <div class="grid grid-cols-2 gap-4 mb-4">
                    {wireframes[feature.id]?.stats?.map((stat) => (
                      <div class="bg-gray-900/80 border border-gray-700 rounded-lg p-4">
                        <div class="text-gray-500 text-xs uppercase mb-1">{stat.label}</div>
                        <div class="text-xl font-bold text-white">{stat.value}</div>
                      </div>
                    ))}
                  </div>
                  <div class="space-y-3">
                    <div class="bg-gray-900/80 border border-gray-700 rounded-lg p-3">
                      <div class="flex justify-between items-center mb-2">
                        <span class="text-gray-400 text-sm">Travel</span>
                        <span class="text-purple-400 text-sm">81%</span>
                      </div>
                      <div class="h-2 bg-gray-800 rounded-full overflow-hidden">
                        <div class="h-full bg-purple-600 rounded-full" style="width: 81%"></div>
                      </div>
                    </div>
                    <div class="bg-gray-900/80 border border-gray-700 rounded-lg p-3">
                      <div class="flex justify-between items-center mb-2">
                        <span class="text-gray-400 text-sm">Accommodation</span>
                        <span class="text-purple-400 text-sm">92%</span>
                      </div>
                      <div class="h-2 bg-gray-800 rounded-full overflow-hidden">
                        <div class="h-full bg-purple-600 rounded-full" style="width: 92%"></div>
                      </div>
                    </div>
                  </div>
                </div>
              )}

              {wireframes[feature.id]?.type === "table" && (
                <div class="p-4" style="aspect-ratio: 4/3;">
                  <div class="bg-gray-900 rounded-lg overflow-hidden border border-gray-700">
                    <div class="grid grid-cols-4 gap-4 px-4 py-2 border-b border-gray-700 text-xs text-gray-500 uppercase">
                      <div>Name</div>
                      <div>Departure</div>
                      <div>Hotel</div>
                      <div>Return</div>
                    </div>
                    {wireframes[feature.id]?.rows?.map((row) => (
                      <div class="grid grid-cols-4 gap-4 px-4 py-3 border-b border-gray-800 last:border-b-0">
                        <div class="text-white text-sm">{row.name}</div>
                        <div class={`text-sm ${row.statusColor === 'green' ? 'text-green-400' : 'text-yellow-400'}`}>
                          {row.statusColor === 'green' ? (
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"/></svg>
                          ) : (
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 8v4"/><path d="M12 16h.01"/></svg>
                          )}
                        </div>
                        <div class={`text-sm ${row.status.includes('hotel') ? 'text-yellow-400' : 'text-green-400'}`}>
                          {row.status.includes('hotel') ? (
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 8v4"/><path d="M12 16h.01"/></svg>
                          ) : (
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"/></svg>
                          )}
                        </div>
                        <div class={`text-sm ${row.status.includes('return') ? 'text-yellow-400' : 'text-green-400'}`}>
                          {row.status.includes('return') ? (
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 8v4"/><path d="M12 16h.01"/></svg>
                          ) : (
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"/></svg>
                          )}
                        </div>
                      </div>
                    ))}
                  </div>
                </div>
              )}

              {wireframes[feature.id]?.type === "cards" && (
                <div class="p-4" style="aspect-ratio: 4/3;">
                  <div class="space-y-3">
                    <div class="bg-gray-900 border border-gray-700 rounded-lg p-4">
                      <div class="flex items-start justify-between mb-2">
                        <div>
                          <div class="text-white font-medium">Grand Hotel Monza</div>
                          <div class="text-gray-500 text-sm">Via Example 123, Monza</div>
                        </div>
                        <div class="text-purple-400 text-sm">8 rooms</div>
                      </div>
                      <div class="flex gap-2 mt-3">
                        <span class="px-2 py-1 bg-gray-800 rounded text-xs text-gray-400">Check-in: Sep 12</span>
                        <span class="px-2 py-1 bg-gray-800 rounded text-xs text-gray-400">Check-out: Sep 15</span>
                      </div>
                    </div>
                    <div class="bg-gray-900 border border-gray-700 rounded-lg p-4">
                      <div class="flex items-start justify-between mb-2">
                        <div>
                          <div class="text-white font-medium">Hotel Paddock</div>
                          <div class="text-gray-500 text-sm">Via Circuit 45, Monza</div>
                        </div>
                        <div class="text-purple-400 text-sm">4 rooms</div>
                      </div>
                      <div class="flex gap-2 mt-3">
                        <span class="px-2 py-1 bg-gray-800 rounded text-xs text-gray-400">Check-in: Sep 12</span>
                        <span class="px-2 py-1 bg-gray-800 rounded text-xs text-gray-400">Check-out: Sep 15</span>
                      </div>
                    </div>
                  </div>
                </div>
              )}

              {wireframes[feature.id]?.type === "timeline" && (
                <div class="p-4" style="aspect-ratio: 4/3;">
                  <div class="space-y-4">
                    <div class="bg-gray-900 border border-gray-700 rounded-lg p-4">
                      <div class="flex items-center gap-3 mb-3">
                        <div class="w-8 h-8 bg-purple-900/30 rounded-full flex items-center justify-center">
                          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-purple-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"/></svg>
                        </div>
                        <div>
                          <div class="text-white font-medium">LHR to MXP</div>
                          <div class="text-gray-500 text-sm">Sep 12 - 08:45</div>
                        </div>
                        <div class="ml-auto text-purple-400 text-sm">12 passengers</div>
                      </div>
                    </div>
                    <div class="bg-gray-900 border border-gray-700 rounded-lg p-4">
                      <div class="flex items-center gap-3 mb-3">
                        <div class="w-8 h-8 bg-gray-800 rounded-full flex items-center justify-center">
                          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-gray-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 17h4V5H2v12h3"/><path d="M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5v8h1"/><circle cx="7.5" cy="17.5" r="2.5"/><circle cx="17.5" cy="17.5" r="2.5"/></svg>
                        </div>
                        <div>
                          <div class="text-white font-medium">Workshop to Monza</div>
                          <div class="text-gray-500 text-sm">Sep 11 - 06:00</div>
                        </div>
                        <div class="ml-auto text-gray-400 text-sm">Truck + Sprinter</div>
                      </div>
                    </div>
                  </div>
                </div>
              )}

              {wireframes[feature.id]?.type === "list" && (
                <div class="p-4" style="aspect-ratio: 4/3;">
                  <div class="space-y-3">
                    <div class="bg-gray-900 border border-gray-700 rounded-lg p-4 flex items-center gap-4">
                      <div class="w-10 h-10 bg-purple-900/30 rounded-lg flex items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-purple-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 17h4V5H2v12h3"/><path d="M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5v8h1"/><circle cx="7.5" cy="17.5" r="2.5"/><circle cx="17.5" cy="17.5" r="2.5"/></svg>
                      </div>
                      <div class="flex-1">
                        <div class="text-white font-medium">Race Truck #1</div>
                        <div class="text-gray-500 text-sm">Fleet vehicle</div>
                      </div>
                      <span class="px-2 py-1 bg-green-900/30 text-green-400 rounded text-xs">Assigned</span>
                    </div>
                    <div class="bg-gray-900 border border-gray-700 rounded-lg p-4 flex items-center gap-4">
                      <div class="w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-gray-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"/><circle cx="7" cy="17" r="2"/><path d="M9 17h6"/><circle cx="17" cy="17" r="2"/></svg>
                      </div>
                      <div class="flex-1">
                        <div class="text-white font-medium">Mercedes Sprinter</div>
                        <div class="text-gray-500 text-sm">Fleet vehicle</div>
                      </div>
                      <span class="px-2 py-1 bg-green-900/30 text-green-400 rounded text-xs">Assigned</span>
                    </div>
                    <div class="bg-gray-900 border border-gray-700 rounded-lg p-4 flex items-center gap-4">
                      <div class="w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-gray-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"/><circle cx="7" cy="17" r="2"/><path d="M9 17h6"/><circle cx="17" cy="17" r="2"/></svg>
                      </div>
                      <div class="flex-1">
                        <div class="text-white font-medium">Rental BMW X5</div>
                        <div class="text-gray-500 text-sm">Event rental</div>
                      </div>
                      <span class="px-2 py-1 bg-yellow-900/30 text-yellow-400 rounded text-xs">Pending</span>
                    </div>
                  </div>
                </div>
              )}
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

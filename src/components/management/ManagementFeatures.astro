---
const features = [
  {
    id: "overview",
    badge: "Overview",
    title: "Your event at a glance.",
    description: "See instantly how many staff are assigned, which racecars are entered, how teams are composed, and how many meals are planned. One dashboard, one Event, everything visible.",
    icon: "layout-dashboard"
  },
  {
    id: "staff",
    badge: "Event Staff",
    title: "Your full crew, roles and meals included.",
    description: "See every team member assigned to the event with their role and meal status. Staff assignments sync with Logistics — assign once, visible everywhere. No duplicate entries across modules.",
    icon: "users"
  },
  {
    id: "racecars",
    badge: "Racecars",
    title: "Assign your cars to each event.",
    description: "Assign racecars from your central fleet to each event. Car data comes from the Racecar module — chassis, model, race number — no need to re-enter anything. See at a glance which cars are entered for each weekend.",
    icon: "car"
  },
  {
    id: "team",
    badge: "Team",
    title: "Build your crew structure, event by event.",
    description: "Define your team structure once — team-level roles, car-level roles — then populate it per event. Assign Race Engineers, Car Chiefs, Performance Engineers to specific cars with a dropdown. When your crew changes between events, just reassign. The structure stays, the people adapt.",
    icon: "team"
  },
  {
    id: "meals",
    badge: "Meals",
    title: "Plan every meal across the event.",
    description: "Plan breakfast, lunch, and dinner for every day of the event. Set locations, time windows, and assign staff to each meal. Your team knows where to eat, when, every day — without asking.",
    icon: "utensils"
  }
];

const icons: Record<string, string> = {
  "layout-dashboard": `<rect width="7" height="9" x="3" y="3" rx="1"/><rect width="7" height="5" x="14" y="3" rx="1"/><rect width="7" height="9" x="14" y="12" rx="1"/><rect width="7" height="5" x="3" y="16" rx="1"/>`,
  "users": `<path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/>`,
  "car": `<path d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"/><circle cx="7" cy="17" r="2"/><path d="M9 17h6"/><circle cx="17" cy="17" r="2"/>`,
  "team": `<path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/>`,
  "utensils": `<path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3zm0 0v7"/>`
};
---

<section class="px-4 sm:px-6 lg:px-8 py-20 md:py-24">
  <div class="max-w-7xl mx-auto">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">
        Five tools, one workspace.
      </h2>
    </div>

    <div class="space-y-20 md:space-y-28">
      {features.map((feature, index) => (
        <div class={`flex flex-col ${index % 2 === 0 ? 'lg:flex-row' : 'lg:flex-row-reverse'} gap-8 lg:gap-12 items-center`}>
          <!-- Content -->
          <div class="lg:w-1/2">
            <div class="inline-flex items-center gap-2 px-3 py-1 bg-orange-900/20 text-orange-400 rounded-full text-sm font-medium mb-4 border border-orange-500/30">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="w-4 h-4"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                set:html={icons[feature.icon]}
              />
              {feature.badge}
            </div>
            <h3 class="text-2xl md:text-3xl font-bold text-white mb-4">
              {feature.title}
            </h3>
            <p class="text-gray-400 text-lg leading-relaxed">
              {feature.description}
            </p>
          </div>

          <!-- Screenshot placeholder -->
          <div class="lg:w-1/2">
            <div
              data-screenshot={`management-${feature.id}`}
              class="bg-gray-800/50 border border-gray-700 rounded-xl overflow-hidden"
            >
              {feature.id === "overview" && (
                <div class="p-6" style="aspect-ratio: 4/3;">
                  <div class="bg-gray-900/80 border border-gray-700 rounded-lg p-4 mb-4">
                    <div class="flex flex-wrap gap-6">
                      <div>
                        <div class="text-gray-500 text-xs uppercase mb-1">Event</div>
                        <div class="text-white font-medium text-sm">Monza 6H</div>
                      </div>
                      <div>
                        <div class="text-gray-500 text-xs uppercase mb-1">Dates</div>
                        <div class="text-white font-medium text-sm">Sep 12-15, 2025</div>
                      </div>
                    </div>
                  </div>
                  <div class="grid grid-cols-2 gap-3">
                    <div class="bg-gray-900/80 border border-gray-700 rounded-lg p-4">
                      <div class="text-gray-500 text-xs uppercase mb-1">Staff Assigned</div>
                      <div class="text-2xl font-bold text-orange-400">23</div>
                    </div>
                    <div class="bg-gray-900/80 border border-gray-700 rounded-lg p-4">
                      <div class="text-gray-500 text-xs uppercase mb-1">Racecars</div>
                      <div class="text-2xl font-bold text-orange-400">2</div>
                    </div>
                    <div class="bg-gray-900/80 border border-gray-700 rounded-lg p-4">
                      <div class="text-gray-500 text-xs uppercase mb-1">Teams</div>
                      <div class="text-2xl font-bold text-orange-400">1</div>
                    </div>
                    <div class="bg-gray-900/80 border border-gray-700 rounded-lg p-4">
                      <div class="text-gray-500 text-xs uppercase mb-1">Meals</div>
                      <div class="text-2xl font-bold text-orange-400">18</div>
                    </div>
                  </div>
                </div>
              )}

              {feature.id === "staff" && (
                <div class="p-4" style="aspect-ratio: 4/3;">
                  <div class="bg-gray-900 rounded-lg overflow-hidden border border-gray-700">
                    <div class="grid grid-cols-4 gap-4 px-4 py-2 border-b border-gray-700 text-xs text-gray-500 uppercase">
                      <div>Staff Member</div>
                      <div>Event Roles</div>
                      <div>Meals</div>
                      <div>Actions</div>
                    </div>
                    <div class="grid grid-cols-4 gap-4 px-4 py-3 border-b border-gray-800">
                      <div class="text-white text-sm">A. Durant</div>
                      <div class="text-orange-400 text-xs">3rd Mechanics #42</div>
                      <div class="text-green-400 text-xs">3/3</div>
                      <div class="text-gray-400 text-xs">Edit</div>
                    </div>
                    <div class="grid grid-cols-4 gap-4 px-4 py-3 border-b border-gray-800">
                      <div class="text-white text-sm">T. Bernard</div>
                      <div class="text-orange-400 text-xs">Performance Engineer #77</div>
                      <div class="text-green-400 text-xs">3/3</div>
                      <div class="text-gray-400 text-xs">Edit</div>
                    </div>
                    <div class="grid grid-cols-4 gap-4 px-4 py-3 border-b border-gray-800">
                      <div class="text-white text-sm">L. Moreau</div>
                      <div class="text-orange-400 text-xs">Car Chief #42</div>
                      <div class="text-yellow-400 text-xs">2/3</div>
                      <div class="text-gray-400 text-xs">Edit</div>
                    </div>
                    <div class="grid grid-cols-4 gap-4 px-4 py-3">
                      <div class="text-white text-sm">S. Petit</div>
                      <div class="text-orange-400 text-xs">Race Engineer #77</div>
                      <div class="text-green-400 text-xs">3/3</div>
                      <div class="text-gray-400 text-xs">Edit</div>
                    </div>
                  </div>
                </div>
              )}

              {feature.id === "racecars" && (
                <div class="p-4" style="aspect-ratio: 4/3;">
                  <div class="space-y-3">
                    <div class="bg-gray-900 border border-gray-700 rounded-lg p-4">
                      <div class="flex items-start justify-between mb-2">
                        <div>
                          <div class="text-white font-medium">RN-001</div>
                          <div class="text-gray-500 text-sm">GT3 Evo</div>
                        </div>
                        <div class="text-orange-400 text-sm font-bold">#42</div>
                      </div>
                      <div class="flex gap-2 mt-3">
                        <span class="px-2 py-1 bg-gray-800 rounded text-xs text-gray-400">2025</span>
                        <span class="px-2 py-1 bg-green-900/30 text-green-400 rounded text-xs">Assigned</span>
                      </div>
                    </div>
                    <div class="bg-gray-900 border border-gray-700 rounded-lg p-4">
                      <div class="flex items-start justify-between mb-2">
                        <div>
                          <div class="text-white font-medium">RN-002</div>
                          <div class="text-gray-500 text-sm">GT3 Evo</div>
                        </div>
                        <div class="text-orange-400 text-sm font-bold">#77</div>
                      </div>
                      <div class="flex gap-2 mt-3">
                        <span class="px-2 py-1 bg-gray-800 rounded text-xs text-gray-400">2025</span>
                        <span class="px-2 py-1 bg-green-900/30 text-green-400 rounded text-xs">Assigned</span>
                      </div>
                    </div>
                  </div>
                </div>
              )}

              {feature.id === "team" && (
                <div class="p-4" style="aspect-ratio: 4/3;">
                  <div class="space-y-4">
                    <div class="bg-gray-900 border border-gray-700 rounded-lg p-4">
                      <div class="text-white font-medium mb-3">GT3 Crew</div>
                      <div class="space-y-2 mb-4">
                        <div class="flex items-center justify-between text-sm">
                          <span class="text-gray-400">Technical Director</span>
                          <span class="text-white">M. Lefevre</span>
                        </div>
                        <div class="flex items-center justify-between text-sm">
                          <span class="text-gray-400">Team Manager</span>
                          <span class="text-white">C. Dubois</span>
                        </div>
                        <div class="flex items-center justify-between text-sm">
                          <span class="text-gray-400">Sportive Director</span>
                          <span class="text-white">N. Laurent</span>
                        </div>
                      </div>
                      <div class="border-t border-gray-700 pt-3">
                        <div class="flex items-center gap-2 mb-2">
                          <span class="text-orange-400 text-xs font-medium">#42</span>
                          <span class="text-gray-500 text-xs">RN-001</span>
                        </div>
                        <div class="grid grid-cols-2 gap-2 text-xs">
                          <div class="bg-gray-800 rounded px-2 py-1 flex justify-between">
                            <span class="text-gray-400">Race Eng.</span>
                            <span class="text-white">L. Moreau</span>
                          </div>
                          <div class="bg-gray-800 rounded px-2 py-1 flex justify-between">
                            <span class="text-gray-400">Car Chief</span>
                            <span class="text-white">A. Durant</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              )}

              {feature.id === "meals" && (
                <div class="p-4" style="aspect-ratio: 4/3;">
                  <div class="space-y-3">
                    <div class="text-gray-400 text-xs uppercase mb-2">Wed Apr 8</div>
                    <div class="grid grid-cols-3 gap-2">
                      <div class="bg-gray-900 border border-gray-700 rounded-lg p-3">
                        <div class="text-gray-500 text-xs mb-1">Breakfast</div>
                        <div class="text-white text-sm font-medium">Hotel</div>
                        <div class="text-gray-400 text-xs">08:00 - 09:00</div>
                        <div class="text-orange-400 text-xs mt-1">18 staff</div>
                      </div>
                      <div class="bg-gray-900 border border-gray-700 rounded-lg p-3">
                        <div class="text-gray-500 text-xs mb-1">Lunch</div>
                        <div class="text-white text-sm font-medium">Paddock</div>
                        <div class="text-gray-400 text-xs">12:00 - 13:00</div>
                        <div class="text-orange-400 text-xs mt-1">23 staff</div>
                      </div>
                      <div class="bg-gray-900 border border-gray-700 rounded-lg p-3">
                        <div class="text-gray-500 text-xs mb-1">Dinner</div>
                        <div class="text-white text-sm font-medium">Hotel</div>
                        <div class="text-gray-400 text-xs">19:00 - 20:00</div>
                        <div class="text-orange-400 text-xs mt-1">18 staff</div>
                      </div>
                    </div>
                    <div class="text-gray-400 text-xs uppercase mb-2 mt-4">Thu Apr 9</div>
                    <div class="grid grid-cols-3 gap-2">
                      <div class="bg-gray-900 border border-gray-700 rounded-lg p-3">
                        <div class="text-gray-500 text-xs mb-1">Breakfast</div>
                        <div class="text-white text-sm font-medium">Hotel</div>
                        <div class="text-gray-400 text-xs">07:00 - 08:00</div>
                        <div class="text-orange-400 text-xs mt-1">18 staff</div>
                      </div>
                      <div class="bg-gray-900 border border-gray-700 rounded-lg p-3">
                        <div class="text-gray-500 text-xs mb-1">Lunch</div>
                        <div class="text-white text-sm font-medium">Paddock</div>
                        <div class="text-gray-400 text-xs">12:00 - 13:00</div>
                        <div class="text-orange-400 text-xs mt-1">23 staff</div>
                      </div>
                      <div class="bg-gray-900 border border-gray-700 rounded-lg p-3">
                        <div class="text-gray-500 text-xs mb-1">Dinner</div>
                        <div class="text-white text-sm font-medium">Restaurant</div>
                        <div class="text-gray-400 text-xs">20:00 - 21:30</div>
                        <div class="text-orange-400 text-xs mt-1">23 staff</div>
                      </div>
                    </div>
                  </div>
                </div>
              )}
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
